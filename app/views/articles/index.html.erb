<div class="container-fluid bg-light">

  <%= render "layouts/navbar" %>

  <h1>Articles</h1><br>

  <div class="row">
    <div class="col">
     
    </div>
    <div class="col-4">
      <%# Melakukan pencarian berdasarkan title dan berdasarkan status %>
      <%= form_tag(articles_path, method: 'get') do %>
        <div class="row">
          <div class="col">
            <%= text_field_tag(:title, params[:title], type: 'search', class: "form-control mr-sm-2", placeholder: "Search by Tittle") %>
          </div>
          <div class="col">
            <%= select_tag :status,options_for_select([['Status'],["Publish", "true"], ["Unpublish", "false"]]), class: "btn btn-outline-secondary dropdown-toggle" %>
            <button type="submit" class="btn btn-success">Search</button>
          </div>
        </div>
      <% end %>
      <br>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h2>New Articles</h2>
            <%= form_with(model: @article, local: false) do |form| %>
              <div class="d-flex flex-row align-items-center mb-4">
                <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                <div class="form-outline flex-fill mb-0">
                  <label class="form-label" for="title">Title</label>
                  <%= form.text_field :title, class: 'form-control' %>
                  <% @article.errors.full_messages_for(:title).each do |message| %>
                    <%= message %>
                  <% end %>
                </div>
              </div>
              <div class="d-flex flex-row align-items-center mb-4">
                <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                <div class="form-outline flex-fill mb-0">
                  <label class="form-label" for="body">Article</label>
                  <%= form.text_area :body, class: 'form-control' %>
                  <% @article.errors.full_messages_for(:body).each do |message| %>
                    <%= message %>
                  <% end %>
                </div>
              </div>
              <div class="form-outline mb-4">
                <label class="visually" for="status">Status</label>
                <%= form.select :status, [['Publish', true], ['Unpublish', false]]%>
              </div>
              <button class="btn btn-primary btn-lg btn-block" type="submit">Add</button>
            <% end %>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body" id="articles">
          <%= render @article %>
        <div>
      </div>
    </div>
  </div>
</div>