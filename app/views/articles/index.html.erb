<h1>Articles</h1>

<%= link_to "New Article", new_article_path %>
<br><br>

<%# <form action="/search">
  <input name="title" type="text" placeholder="Search by Title">
  <input class="input-dropdown">
  <select class="input-dropdown">
    <option value="true" >Publish</option>
    <option value="false" >Unpublish</option>
  </select>
  <button type="submit">Search</button>
</form>
<br> %>

<%= form_with(url: '/search', method: 'get') do |form| %>
  <%= form.text_field :title %>
  <%= form.select :status, options_for_select([['None'],["Publish", true], ["Unpublish", false]]) %>
  <%= form.submit 'Search' %>
<% end %>
<br>

<table border = "1">
  <thead>
    <tr>
      <th>No</th>
      <th>Title</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @articles.each_with_index do |article, index| %>
      <tr>
        <td><%= index += 1 %></td>
        <td><%= link_to article.title, article %></td>
        <td>
          <% if article.status? %>
            Publish
          <% else %>
            Unpublish
          <% end %>
        </td>
        <td>
          <%= link_to "Show", article %>
          <%= link_to "Edit", edit_article_path(article) %>
          <%= link_to "Delete", article_path(article), data: {
          turbo_method: :delete,
          turbo_confirm: "Are you Sure ?"}%>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>